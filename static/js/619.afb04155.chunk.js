"use strict";(self.webpackChunklike_you=self.webpackChunklike_you||[]).push([[619],{1476:function(s,t,e){e.r(t),e.d(t,{default:function(){return C}});var i=e(1413),a=e(5671),r=e(3144),n=e(136),o=e(516),l=e(2791),u=e(1406),p=e(2589),c=e(184),d=(l.Component,e(9439)),h=function(s){var t=(0,l.useState)(!1),e=(0,d.Z)(t,2),i=e[0],a=e[1],r=(0,l.useState)(s.status),n=(0,d.Z)(r,2),o=n[0],u=n[1];return(0,l.useEffect)((function(){u(s.status)}),[s.status]),(0,c.jsxs)("div",{className:"profile__status-wrap",children:[!i&&(0,c.jsx)("div",{className:"profile__status",children:(0,c.jsxs)("span",{onDoubleClick:function(){a(!0)},children:[" ",s.status||"----"]})}),i&&(0,c.jsx)("input",{autoFocus:!0,onChange:function(s){u(s.currentTarget.value)},className:"profile__input",type:"text",onBlur:function(){a(!1),s.updateStatus(o)},value:o})]})},f=function(s){return null==s.profile?(0,c.jsx)(u.Z,{}):(0,c.jsxs)("div",{className:"profile__top box",children:[(0,c.jsx)("div",{className:"profile__img-wrap",children:(0,c.jsx)("img",{className:"profile__img",src:null!=s.profile.photos.large?s.profile.photos.large:p,alt:"avatar",width:"100",height:"100"})}),(0,c.jsxs)("div",{className:"profile__info",children:[(0,c.jsx)("div",{className:"profile__name",children:s.profile.fullName}),(0,c.jsx)(h,{status:s.status,updateStatus:s.updateStatus}),(0,c.jsxs)("ul",{className:"profile__info-list",children:[(0,c.jsxs)("li",{className:"profile__date",children:[(0,c.jsx)("span",{children:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f:"}),(0,c.jsx)("span",{children:" 1 \u043e\u043a\u0442\u044f\u0431\u0440\u044f"})]}),(0,c.jsxs)("li",{className:"profile__city",children:[(0,c.jsx)("span",{children:"\u0413\u043e\u0440\u043e\u0434: "}),(0,c.jsx)("span",{children:"\u041e\u0440\u0435\u043d\u0431\u0443\u0440\u0433"})]})]})]})]})},m=e(6070),_=e.p+"static/media/1.948a336817dad196b93b.png",x=function(s){return(0,c.jsxs)("li",{className:"posts__list-item box",children:[(0,c.jsxs)("div",{className:"posts__list-item-top",children:[(0,c.jsx)("div",{className:"posts__list-img-wrap",children:(0,c.jsx)("img",{className:"posts__list-img",src:_,alt:"avatar",width:"50",height:"50"})}),(0,c.jsx)("div",{className:"posts__list-text",children:s.message})]}),(0,c.jsxs)("div",{className:"posts__list-item-bottom",children:[(0,c.jsx)("span",{children:"\u041b\u0430\u0439\u043a\u043e\u0432:"}),(0,c.jsx)("span",{children:s.likesCount})]})]})},j=e(1134),g=e(77),v=l.memo((function(s){var t=s.posts.map((function(s){return(0,c.jsx)(x,{message:s.message,likesCount:s.likesCount},s.id)}));return(0,c.jsxs)("div",{className:"profile__posts posts",children:[(0,c.jsxs)("div",{className:"posts__new box",children:[(0,c.jsx)("div",{className:"posts__new-title",children:"\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b"}),(0,c.jsx)(N,{addPost:s.addPost})]}),(0,c.jsx)("ul",{className:"posts__list",children:t})]})})),N=function(s){var t=(0,j.cI)(),e=t.register,a=t.handleSubmit,r=t.reset;return(0,c.jsxs)("form",{onSubmit:a((function(t){s.addPost(t.newMessagePost),r({newMessagePost:""})})),children:[(0,c.jsx)("textarea",(0,i.Z)({className:"posts__input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"},e("newMessagePost",g.l))),(0,c.jsx)("button",{className:"posts__btn btn",children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})]})},S=v,b=e(3531),k=(0,b.$j)((function(s){return{posts:s.profilePage.posts}}),(function(s){return{addPost:function(t){s((0,m.Pi)(t))}}}))(S),P=function(s){return(0,c.jsxs)("div",{className:"profile",children:[(0,c.jsx)(f,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,c.jsx)(k,{})]})},w=e(7689),Z=e(7781),U=e(5628),y=function(s){(0,n.Z)(e,s);var t=(0,o.Z)(e);function e(){return(0,a.Z)(this,e),t.apply(this,arguments)}return(0,r.Z)(e,[{key:"redirectToMainUser",value:function(){var s=this.props.authorizedUserId;s&&(this.props.getUserProfile(s),this.props.getStatus(s))}},{key:"componentDidMount",value:function(){var s=this.props.match.params.userId;s||(s=this.props.authorizedUserId),s&&(this.props.getUserProfile(s),this.props.getStatus(s))}},{key:"componentDidUpdate",value:function(s){this.props.isMain!==s.isMain&&this.props.isMain&&this.redirectToMainUser()}},{key:"render",value:function(){return this.props.isAuth||this.props.match.params.userId?(0,c.jsx)(P,(0,i.Z)((0,i.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})):(0,c.jsx)(w.Fg,{to:"/login"})}}]),e}(l.Component),C=(0,Z.compose)((0,b.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:m.et,getStatus:m.lR,updateStatus:m.Nf}),U.E)(y)},5628:function(s,t,e){e.d(t,{E:function(){return n}});var i=e(1413),a=e(7689),r=(e(2791),e(184)),n=function(s){return function(t){var e=(0,a.TH)(),n=(0,a.s0)(),o=(0,a.UO)();return(0,r.jsx)(s,(0,i.Z)((0,i.Z)({},t),{},{match:{location:e,navigate:n,params:o}}))}}}}]);
//# sourceMappingURL=619.afb04155.chunk.js.map